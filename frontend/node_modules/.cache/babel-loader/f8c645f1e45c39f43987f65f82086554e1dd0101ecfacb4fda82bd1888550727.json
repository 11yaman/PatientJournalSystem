{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst BASE_URL = 'http://localhost:8080/api/v1';\nconst useApi = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchData = async (url, method = 'GET', data = null, token = null) => {\n    setLoading(true);\n    setError(null);\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (token) {\n      headers['Authorization'] = `Basic ${token}`;\n    }\n    const config = {\n      method,\n      headers,\n      body: data ? JSON.stringify(data) : null\n    };\n    try {\n      const response = await fetch(`${BASE_URL}${url}`, config);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const result = await response.json();\n      setLoading(false);\n      return result;\n    } catch (error) {\n      setError('An error occurred while fetching data.');\n      setLoading(false);\n      console.error('API Error:', error);\n      return null;\n    }\n  };\n  const get = async (url, token = null) => {\n    return fetchData(url, 'GET', null, token);\n  };\n  const post = async (url, data, token = null) => {\n    return fetchData(url, 'POST', data, token);\n  };\n  return {\n    get,\n    post,\n    loading,\n    error\n  };\n};\n_s(useApi, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");\nexport default useApi;","map":{"version":3,"names":["useState","BASE_URL","useApi","_s","loading","setLoading","error","setError","fetchData","url","method","data","token","headers","config","body","JSON","stringify","response","fetch","ok","Error","status","result","json","console","get","post"],"sources":["C:/Users/Yaman/GitHub/JournalSystem/frontend/src/hooks/useApi.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nconst BASE_URL = 'http://localhost:8080/api/v1';\r\n\r\nconst useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchData = async (url, method = 'GET', data = null, token = null) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n\r\n    if (token) {\r\n      headers['Authorization'] = `Basic ${token}`;\r\n    }\r\n\r\n    const config = {\r\n      method,\r\n      headers,\r\n      body: data ? JSON.stringify(data) : null,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`${BASE_URL}${url}`, config);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      setLoading(false);\r\n      return result;\r\n    } catch (error) {\r\n      setError('An error occurred while fetching data.');\r\n      setLoading(false);\r\n      console.error('API Error:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const get = async (url, token = null) => {\r\n    return fetchData(url, 'GET', null, token);\r\n  };\r\n\r\n  const post = async (url, data, token = null) => {\r\n    return fetchData(url, 'POST', data, token);\r\n  };\r\n\r\n  return { get, post, loading, error };\r\n};\r\n\r\nexport default useApi;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,QAAQ,GAAG,8BAA8B;AAE/C,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMQ,SAAS,GAAG,MAAAA,CAAOC,GAAG,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,KAAK,GAAG,IAAI,KAAK;IAC1EP,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,MAAMM,OAAO,GAAG;MACd,cAAc,EAAE;IAClB,CAAC;IAED,IAAID,KAAK,EAAE;MACTC,OAAO,CAAC,eAAe,CAAC,GAAI,SAAQD,KAAM,EAAC;IAC7C;IAEA,MAAME,MAAM,GAAG;MACbJ,MAAM;MACNG,OAAO;MACPE,IAAI,EAAEJ,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAG;IACtC,CAAC;IAED,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAElB,QAAS,GAAEQ,GAAI,EAAC,EAAEK,MAAM,CAAC;MAEzD,IAAI,CAACI,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;MAC3D;MAEA,MAAMC,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MACpCnB,UAAU,CAAC,KAAK,CAAC;MACjB,OAAOkB,MAAM;IACf,CAAC,CAAC,OAAOjB,KAAK,EAAE;MACdC,QAAQ,CAAC,wCAAwC,CAAC;MAClDF,UAAU,CAAC,KAAK,CAAC;MACjBoB,OAAO,CAACnB,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;MAClC,OAAO,IAAI;IACb;EACF,CAAC;EAED,MAAMoB,GAAG,GAAG,MAAAA,CAAOjB,GAAG,EAAEG,KAAK,GAAG,IAAI,KAAK;IACvC,OAAOJ,SAAS,CAACC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAEG,KAAK,CAAC;EAC3C,CAAC;EAED,MAAMe,IAAI,GAAG,MAAAA,CAAOlB,GAAG,EAAEE,IAAI,EAAEC,KAAK,GAAG,IAAI,KAAK;IAC9C,OAAOJ,SAAS,CAACC,GAAG,EAAE,MAAM,EAAEE,IAAI,EAAEC,KAAK,CAAC;EAC5C,CAAC;EAED,OAAO;IAAEc,GAAG;IAAEC,IAAI;IAAEvB,OAAO;IAAEE;EAAM,CAAC;AACtC,CAAC;AAACH,EAAA,CAjDID,MAAM;AAmDZ,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}