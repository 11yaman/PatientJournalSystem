{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useMessages = (type, patientId) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const fetchMessages = async () => {\n      setLoading(true);\n      let url;\n      if (type === 'all') {\n        url = '/messages/all';\n      } else if (type === 'active') {\n        url = '/messages/active';\n      } else if (type === 'archived') {\n        url = '/messages/archived';\n      } else if (type === 'patient' && patientId) {\n        url = `/patient/${patientId}/messages`;\n      } else {\n        console.error('Invalid arguments for useMessages');\n        return;\n      }\n      const fetchData = async () => {\n        try {\n          if (user && user.token) {\n            const fetchedNotes = await get(`/patients/${patientId}/notes/list`, user.token);\n            if (fetchedNotes) {\n              setMessages(fetchedNotes);\n            } else {\n              toast.error('Error fetching patient notes');\n            }\n          }\n        } catch (apiError) {\n          toast.error('Error fetching patient messages');\n        }\n      };\n    };\n    fetchData();\n  }, [type, patientId]);\n  return {\n    messages,\n    loading\n  };\n};\n_s(useMessages, \"OWiw6xYK6UqySRWWjzGN6db1MoE=\");\nexport default useMessages;","map":{"version":3,"names":["useState","useEffect","useMessages","type","patientId","_s","messages","setMessages","loading","setLoading","fetchMessages","url","console","error","fetchData","user","token","fetchedNotes","get","toast","apiError"],"sources":["C:/Users/Yaman/GitHub/JournalSystem/frontend/src/hooks/useMessages.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useMessages = (type, patientId) => {\r\n  \r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      setLoading(true);\r\n\r\n      let url;\r\n\r\n      if (type === 'all') {\r\n        url = '/messages/all';\r\n      } else if (type === 'active') {\r\n        url = '/messages/active';\r\n      } else if (type === 'archived') {\r\n        url = '/messages/archived';\r\n      } else if (type === 'patient' && patientId) {\r\n        url = `/patient/${patientId}/messages`;\r\n      } else {\r\n        console.error('Invalid arguments for useMessages');\r\n        return;\r\n      }\r\n      const fetchData = async () => {\r\n        try {\r\n          if (user && user.token ) {\r\n            const fetchedNotes = await get(`/patients/${patientId}/notes/list`, user.token);\r\n  \r\n            if (fetchedNotes) {\r\n              setMessages(fetchedNotes);\r\n            } else {\r\n              toast.error('Error fetching patient notes');\r\n            }\r\n          }\r\n        } catch (apiError) {\r\n          toast.error('Error fetching patient messages');\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [type, patientId]);\r\n\r\n  return { messages, loading };\r\n};\r\n\r\nexport default useMessages;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAGA,CAACC,IAAI,EAAEC,SAAS,KAAK;EAAAC,EAAA;EAEvC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChCD,UAAU,CAAC,IAAI,CAAC;MAEhB,IAAIE,GAAG;MAEP,IAAIR,IAAI,KAAK,KAAK,EAAE;QAClBQ,GAAG,GAAG,eAAe;MACvB,CAAC,MAAM,IAAIR,IAAI,KAAK,QAAQ,EAAE;QAC5BQ,GAAG,GAAG,kBAAkB;MAC1B,CAAC,MAAM,IAAIR,IAAI,KAAK,UAAU,EAAE;QAC9BQ,GAAG,GAAG,oBAAoB;MAC5B,CAAC,MAAM,IAAIR,IAAI,KAAK,SAAS,IAAIC,SAAS,EAAE;QAC1CO,GAAG,GAAI,YAAWP,SAAU,WAAU;MACxC,CAAC,MAAM;QACLQ,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAC;QAClD;MACF;MACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;QAC5B,IAAI;UACF,IAAIC,IAAI,IAAIA,IAAI,CAACC,KAAK,EAAG;YACvB,MAAMC,YAAY,GAAG,MAAMC,GAAG,CAAE,aAAYd,SAAU,aAAY,EAAEW,IAAI,CAACC,KAAK,CAAC;YAE/E,IAAIC,YAAY,EAAE;cAChBV,WAAW,CAACU,YAAY,CAAC;YAC3B,CAAC,MAAM;cACLE,KAAK,CAACN,KAAK,CAAC,8BAA8B,CAAC;YAC7C;UACF;QACF,CAAC,CAAC,OAAOO,QAAQ,EAAE;UACjBD,KAAK,CAACN,KAAK,CAAC,iCAAiC,CAAC;QAChD;MACF,CAAC;IACH,CAAC;IAEDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACX,IAAI,EAAEC,SAAS,CAAC,CAAC;EAErB,OAAO;IAAEE,QAAQ;IAAEE;EAAQ,CAAC;AAC9B,CAAC;AAACH,EAAA,CA5CIH,WAAW;AA8CjB,eAAeA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}