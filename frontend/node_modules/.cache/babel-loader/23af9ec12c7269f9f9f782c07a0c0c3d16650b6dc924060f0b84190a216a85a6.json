{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport useAuth from './useAuth';\nimport useApi from './useApi';\nconst useMessageWithReplies = messageId => {\n  _s();\n  const {\n    get,\n    loading,\n    error\n  } = useApi();\n  const [message, setMessage] = useState([]);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    try {\n      if (user && user.token) {\n        console.log(\"messageId: \" + messageId);\n        const fetchedMessage = get(`/messages/${messageId}`, user.token);\n        console.log(\"id \" + fetchedMessage.id);\n        if (fetchedMessage) {\n          setMessage(fetchedMessage);\n        } else {\n          toast.error('Error fetching message with replies');\n        }\n      }\n    } catch (apiError) {\n      toast.error('Error fetching message with replies');\n    }\n  }, [user, messageId]);\n  {\n    console.log(\"use hook : \" + message.id);\n  }\n  return {\n    message,\n    loading\n  };\n};\n_s(useMessageWithReplies, \"Q7dizkYC7tQWiKT1GMUl1qQoimo=\", false, function () {\n  return [useApi, useAuth];\n});\nexport default useMessageWithReplies;","map":{"version":3,"names":["useState","useEffect","toast","useAuth","useApi","useMessageWithReplies","messageId","_s","get","loading","error","message","setMessage","user","token","console","log","fetchedMessage","id","apiError"],"sources":["C:/Users/Yaman/GitHub/JournalSystem/frontend/src/hooks/useMessageWithReplies.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport useAuth from './useAuth';\r\nimport useApi from './useApi';\r\n\r\nconst useMessageWithReplies = (messageId) => {\r\n  const { get, loading, error } = useApi();\r\n  const [message, setMessage] = useState([]);\r\n\r\n  const {user} = useAuth();\r\n\r\n  useEffect(() => {\r\n      try {\r\n        if (user && user.token) {\r\n          console.log(\"messageId: \" + messageId)\r\n          const fetchedMessage =  get(`/messages/${messageId}`, user.token);\r\n          console.log(\"id \"+ fetchedMessage.id);\r\n          if (fetchedMessage) {\r\n            setMessage(fetchedMessage);\r\n          } else {\r\n            toast.error('Error fetching message with replies');\r\n          }\r\n        }\r\n      } catch (apiError) {\r\n        toast.error('Error fetching message with replies');\r\n      } \r\n\r\n    \r\n  }, [user, messageId]);\r\n  {console.log(\"use hook : \" + message.id)}\r\n  return { message, loading };\r\n};\r\n\r\nexport default useMessageWithReplies;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,qBAAqB,GAAIC,SAAS,IAAK;EAAAC,EAAA;EAC3C,MAAM;IAAEC,GAAG;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGN,MAAM,CAAC,CAAC;EACxC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAM;IAACa;EAAI,CAAC,GAAGV,OAAO,CAAC,CAAC;EAExBF,SAAS,CAAC,MAAM;IACZ,IAAI;MACF,IAAIY,IAAI,IAAIA,IAAI,CAACC,KAAK,EAAE;QACtBC,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGV,SAAS,CAAC;QACtC,MAAMW,cAAc,GAAIT,GAAG,CAAE,aAAYF,SAAU,EAAC,EAAEO,IAAI,CAACC,KAAK,CAAC;QACjEC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAEC,cAAc,CAACC,EAAE,CAAC;QACrC,IAAID,cAAc,EAAE;UAClBL,UAAU,CAACK,cAAc,CAAC;QAC5B,CAAC,MAAM;UACLf,KAAK,CAACQ,KAAK,CAAC,qCAAqC,CAAC;QACpD;MACF;IACF,CAAC,CAAC,OAAOS,QAAQ,EAAE;MACjBjB,KAAK,CAACQ,KAAK,CAAC,qCAAqC,CAAC;IACpD;EAGJ,CAAC,EAAE,CAACG,IAAI,EAAEP,SAAS,CAAC,CAAC;EACrB;IAACS,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGL,OAAO,CAACO,EAAE,CAAC;EAAA;EACxC,OAAO;IAAEP,OAAO;IAAEF;EAAQ,CAAC;AAC7B,CAAC;AAACF,EAAA,CA1BIF,qBAAqB;EAAA,QACOD,MAAM,EAGvBD,OAAO;AAAA;AAwBxB,eAAeE,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}